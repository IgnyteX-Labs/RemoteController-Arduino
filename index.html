<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RemoteController: RemoteController</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RemoteController
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title"><a class="el" href="classRemoteController.html" title="The RemoteController Class provides a simple and easy to use API for RemoteControllers in Embedded Pr...">RemoteController</a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__home_runner_work_RemoteController_Arduino_RemoteController_Arduino_README"></a> Library for the Arduino Framework to implement any type of remote control to Arduino, ESP32, ESP8266. (<a class="el" href="classConnection.html" title="This abstract class interfaces between the RemoteController and any way of transmitting the data for ...">Connection</a> between two Arduino boards!)</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Standard Connection Types</h1>
<p>The library supports the following connection protocols for the Remote Controller out of the box.</p>
<ul>
<li><b>RF24</b> (Using the <a href="https://github.com/nRF24/RF24">RF24 Library</a>)</li>
<li>*__SPI__ (Implementation planned)*</li>
<li>*__Bluetooth__ (Implementation planned)*</li>
<li>*__Wifi__ (Implementation not planned for now)*</li>
</ul>
<p>Custom or more sophisticated connection protocols can be added by creating a class conforming to the <code><a class="el" href="classConnection.html" title="This abstract class interfaces between the RemoteController and any way of transmitting the data for ...">Connection</a></code> class. For the implementation requirements please refer to the docs.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Supported Platforms and Boards</h1>
<p>The library currently supports (&amp; was tested on) the following platforms/boards, with the Arduino Framework:</p>
<ul>
<li><b>espressif32</b><ul>
<li>ESP32 Dev Module (esp32dev)</li>
<li>etc.</li>
</ul>
</li>
<li><b>atmelavr</b><ul>
<li>Arduino Nano (nanoatmega328)</li>
<li>Arduino Uno</li>
<li>etc.</li>
</ul>
</li>
</ul>
<p>More will be added in the future!</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Quick start guide</h1>
<p>Currently the library can only be downloaded by cloning the Github Repository into the library folder. In the future the library will be added to the PlatformIO and Arduino Library Managers.</p>
<p><b>1.</b> At the top of your Project include the <a class="el" href="classRemoteController.html" title="The RemoteController Class provides a simple and easy to use API for RemoteControllers in Embedded Pr...">RemoteController</a> header and create a <a class="el" href="classRemoteController.html" title="The RemoteController Class provides a simple and easy to use API for RemoteControllers in Embedded Pr...">RemoteController</a> object. The <a class="el" href="classConnection.html" title="This abstract class interfaces between the RemoteController and any way of transmitting the data for ...">Connection</a> type has to be specified by passing an object conforming to <code><a class="el" href="classConnection.html" title="This abstract class interfaces between the RemoteController and any way of transmitting the data for ...">Connection</a></code>.</p>
<div class="fragment"><div class="line"> {[c++]}</div>
<div class="line">#include &lt;RemoteController.h&gt;</div>
<div class="line">#include &lt;Connections/RF24Connection.h&gt;</div>
<div class="line"> </div>
<div class="line">// Wiring of the NRF24L01 module</div>
<div class="line">#define CE_PIN 7</div>
<div class="line">#define CSN_PIN 8</div>
<div class="line"> </div>
<div class="line">RF24Connection connection(CE_PIN, CSN_PIN); /* Using the RF24 Connection but any other can also be used. */</div>
<div class="line">RemoteController rc(connection);</div>
</div><!-- fragment --><p>The <a class="el" href="classRemoteController.html" title="The RemoteController Class provides a simple and easy to use API for RemoteControllers in Embedded Pr...">RemoteController</a> library uses so called <code>Commands</code> to process instructions send form one remote to the other. Implement an enum holding all possible instructions. Additionally every instruction can be sent together with a throttle value (0-255).</p>
<div class="fragment"><div class="line"> {[c++]}</div>
<div class="line">enum Commands:uint8_t {</div>
<div class="line">    GoForward, GoBackward, GoLeft, GoRight, ToggleLED // Add any commands you wish</div>
<div class="line">};</div>
</div><!-- fragment --><p><b>2.</b> Create the callback functions, that will be called when a <code>Command</code> or a custom payload is received.</p>
<div class="fragment"><div class="line"> {[c++]}</div>
<div class="line">void commandReceivedCallback(const uint8_t commands[], const float throttles[], size_t length)</div>
<div class="line">{</div>
<div class="line">    // Do something with the received commands</div>
<div class="line">    for (size_t i = 0; i &lt; length; i++)</div>
<div class="line">    {</div>
<div class="line">        if (commands[i] == GoForward)</div>
<div class="line">        {</div>
<div class="line">            // Go Forward</div>
<div class="line">            Serial.print(&quot;GoForward with throttle: &quot;);</div>
<div class="line">            Serial.println(throttles[i]);</div>
<div class="line">        }</div>
<div class="line">        else if (commands[i] == GoBackward)</div>
<div class="line">        {</div>
<div class="line">            // Go Forward</div>
<div class="line">            Serial.print(&quot;GoBackward with throttle: &quot;);</div>
<div class="line">            Serial.println(throttles[i]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* This second callback function is optional to receive binary payloads send via RemoteController::sendPayload(). */</div>
<div class="line"> </div>
<div class="line">void payloadReceivedCallback(const void *buffer, size_t length) {</div>
<div class="line">    // Process binary data</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>3.</b> In the <code>void setup()</code> function initialize the <a class="el" href="classRemoteController.html" title="The RemoteController Class provides a simple and easy to use API for RemoteControllers in Embedded Pr...">RemoteController</a>. Pass one or two callback functions to receive commands and custom payloads. This will connect the <a class="el" href="classRemoteController.html" title="The RemoteController Class provides a simple and easy to use API for RemoteControllers in Embedded Pr...">RemoteController</a>.</p>
<div class="fragment"><div class="line"> {[c++]}</div>
<div class="line">if(!rc.begin(commandReceivedCallback, payloadReceivedCallback)) {</div>
<div class="line">    // Failed to begin</div>
<div class="line">    Serial.println(rc.getErrorDescription());</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>4.</b> In the <code>void loop()</code> function repeatedly call the <a class="el" href="classRemoteController.html#a4c43d7af878881ce457fab73c9c07c19" title="This function has to be called repeatedly in a loop! It handles the transmission of queued commands a...">RemoteController::run()</a> function to handle queued commands and incoming data.</p>
<div class="fragment"><div class="line"> {[c++]}</div>
<div class="line">if(!rc.run()) {</div>
<div class="line">    // An error occured</div>
<div class="line">    Serial.println(rc.getErrorDescription());</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>5.</b> Now to send commands use the <a class="el" href="classRemoteController.html#ac901acdd11566d8529817353db4f93cf" title="Sends a command to the other controller without throttle &#160;.">RemoteController::sendCommand()</a> functions anywhere in your code:</p>
<div class="fragment"><div class="line"> {[c++]}</div>
<div class="line">rc.sendCommand(GoForward); // Full speed</div>
<div class="line">rc.sendCommand(GoForward, 60); // only 60/255 speed</div>
<div class="line"> </div>
<div class="line">/* All the above commands are sent with Priority::Normal meaning they are sent as a batch with the rc.run() call</div>
<div class="line"> </div>
<div class="line">For high priority commands that should be sent immediately specifiy Priority::High like so: */</div>
<div class="line"> </div>
<div class="line">rc.sendCommand(GoForward, 60, RemoteController::High);</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
